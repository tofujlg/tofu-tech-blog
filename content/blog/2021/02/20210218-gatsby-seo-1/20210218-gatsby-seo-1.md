---
title: "Gatsbyãƒ–ãƒ­ã‚°ã®SEOå¯¾ç­–"
date: "2021-02-19"
tags: ["Gatsby"]
emoji: "ğŸ”"
hero: google.svg
---


## ã¯ã˜ã‚ã«
Gatsbyã‚’ç”¨ã„ã¦ã“ã®ãƒ–ãƒ­ã‚°ã‚’ä½œã£ãŸã®ã¯è‰¯ã„ã‚‚ã®ã®ã€æ•°ãƒ¶æœˆã®é–“SEOå¯¾ç­–ã¯ã»ã£ãŸã‚‰ã‹ã—ã«ã—ã¦ã„ã¾ã—ãŸã€‚æœ€è¿‘ã“ã®ãƒ–ãƒ­ã‚°ã«è‰²ã€…SEOå¯¾ç­–ã‚’æ–½ã—ãŸã®ã§ã€ãã®æ–¹æ³•ã‚’ç´¹ä»‹ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚

ã¡ãªã¿ã«ã“ã®ãƒ–ãƒ­ã‚°ã®starterã¯[gatsy-starter-hello-world](https://github.com/gatsbyjs/gatsby-starter-hello-world)ã§ã™ã€‚


## SEOã¨ã¯
SEOã¨ã¯Search Engine Optimizationã®ç•¥ã§æ—¥æœ¬èªã«ã™ã‚‹ã¨ã€Œæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³æœ€é©åŒ–ã€ã¨ãªã‚Šã¾ã™ã€‚Googleã‚„Yahooãªã©ã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã§è¨˜äº‹ãŒä¸Šä½ã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹å¯¾ç­–ã™ã‚‹ã“ã¨ã‚’ã„ã„ã¾ã™ã€‚

Gatsbyã¯é™çš„ãªHTMLã‚µã‚¤ãƒˆã®SEOå¯¾ç­–ã¨ã¯é•ã£ãŸã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒå¿…è¦ã§ã™ã€‚ãã‚Œæ•…ã«ã€ŒSPAã¯SEOã«å¼±ã„ã€ãªã©ã¨è¨€ã‚ã‚Œã¦ã„ãŸã®ã§ã™ãŒã€Gatsbyã®SEOç³»ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯å……å®Ÿã—ã¦ã„ã¦ã€ãã‚Œã‚‰ã‚’ä½¿ãˆã°ç°¡å˜ã«å¯¾ç­–ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚


## Sitemapã®ç”Ÿæˆ

Sitemapã¯æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã®ã‚¯ãƒ­ãƒ¼ãƒ©ãƒ¼ãŒã‚µã‚¤ãƒˆæ§‹é€ ã‚’èª­ã¿å–ã‚‹ã®ã‚’åŠ©ã‘ã¾ã™ã€‚

ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«[gatsby-plugin-sitemap](https://www.gatsbyjs.com/plugins/gatsby-plugin-sitemap)ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ã“ã‚Œã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚


```bash
$ npm i gatsby-plugin-sitemap
```

gatsby-config.jsã«ã¦ã‚µã‚¤ãƒˆã®URLã‚’ãªã‘ã‚Œã°è¿½åŠ ã—ã€pluginsé…åˆ—ã«å…ˆã»ã©ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‚‚ã®ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```js:title=gastby-config.js
siteMetadata: {
  siteUrl: `https://www.example.com`,
},
plugins: [`gatsby-plugin-sitemap`]
```

ãã¡ã‚“ã¨SitemapãŒä½œæˆã•ã‚ŒãŸã‹ã©ã†ã‹ã¯`https://example.com/sitemap.xml `ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã§ç¢ºèªã§ãã¾ã™ã€‚
ã¾ãŸSitemapã¯Search Consoleã§Googleã«æå‡ºã—ã¾ã—ã‚‡ã†ã€‚

## headã®metaã‚¿ã‚°ã®è¨­å®š
[React-Helmet](https://github.com/nfl/react-helmet)ã‚’ç”¨ã„ã¦è¡Œã„ã¾ã™ã€‚Starterã«ã‚ˆã£ã¦ã¯ã‚‚ã¨ã‚‚ã¨å…¥ã£ã¦ã„ã‚‹ã‚‚ã®ã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒãªã‘ã‚Œã°ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ã€‚React-Helmetã¯headå†…ã®metaã‚¿ã‚°ã‚’è¨­å®šã™ã‚‹ã®ã«ä½¿ã„ã¾ã™ã€‚


ã“ã®ãƒ–ãƒ­ã‚°ã®å ´åˆã¯`Head`ã¨ã„ã†metaæƒ…å ±ã‚’ç®¡ç†ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã¦ãã“ã§è‰²ã€…è¨­å®šã—ã¦ã„ã¾ã™ã€‚

ä»Šå›ã¯ã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§
  1. metaè¨­å®š
  2. Twitterã‚«ãƒ¼ãƒ‰ã®è¨­å®š
  3. è¨€èªã‚’æ—¥æœ¬èªã«è¨­å®š

ã‚’è¡Œã¾ã™ã€‚

å®Œæˆã—ãŸã‚³ãƒ¼ãƒ‰ã¯ã“ã¡ã‚‰ã«ãªã‚Šã¾ã™ã€‚ä¸‹ã§ã•ã‚‰ã«è©³ã—ã„è§£èª¬ã‚’ã—ã¾ã™ã€‚

```js:title=head.js
const Head = ({ title, description, lang, meta }) => {
  const data = useStaticQuery(graphql`
    query {
      site {
        siteMetadata {
          title
          siteUrl
          description
        }
      }
    }
  `)
  return (
    <Helmet
      htmlAttributes={{
        lang,
      }}
      title={`${title} | ${data.site.siteMetadata.title}`}
      meta={[
        {
          name: `description`,
          content: `${data.site.siteMetadata.description}`,
        },
        {
          name: `twitter:card`,
          content: `summary`,
        },
        {
          name: `twitter:creator`,
          content: data.site.siteMetadata.author,
        },
        {
          property: `og:image`,
          content: `${data.site.siteMetadata.siteUrl}/images/tube.png`,
        },
        {
          property: `og:title`,
          content: title,
        },
        {
          property: `og:description`,
          content: `${data.site.siteMetadata.description}`,
        },
        {
          property: `og:type`,
          content: `website`,
        },
        {
          name: `thumbnail`,
          content: `${data.site.siteMetadata.siteUrl}/images/tube.png`,
        },
        {
          name: `twitter:title`,
          content: title,
        },
        {
          name: `twitter:description`,
          content: `${data.site.siteMetadata.description}`,
        },
        {
          property: `og:type`,
          content: `website`,
        },
      ]}
    />
  )
}


```

### ã‚µã‚¤ãƒˆã®è¨€èªã®è¨­å®š

ã‚µã‚¤ãƒˆã®è¨€èªã‚’æ—¥æœ¬èªã«è¨­å®šã—ã¾ã™ã€‚Helmetã«`htmlAttribute=lang`ã‚’è¨­å®šã—ã¦ã€defaultPropsã‚’`ja`ã«ã—ã¾ã™ã€‚
```js:title=head.js
//..çœç•¥
    <Helmet
      htmlAttributes={{
        lang,
      }}

  //..çœç•¥

    Head.defaultProps = {
      lang: `ja`,
      meta: [],
      description: ``,
}
```

### Metaã®è¨­å®š
autherã‚„siteTitleãªã©ã®æƒ…å ±ã¯`gatsby-config.js`ã«å…¥ã‚Œã¦ãŠã„ã¦ã€ãã“ã‹ã‚‰å–ã‚Šå‡ºã›ã‚‹ã‚ˆã†ã«ã—ã¦ãŠãã¾ã™ã€‚

```js:title=gatsby-config.js
module.exports = {
  siteMetadata: {
    title: "k-log",
    author: "Kebeb",
    description: `Kebebã®æŠ€è¡“ãƒ–ãƒ­ã‚°ã€‚ä¸»ã«MERN stackã®å­¦ç¿’ã®è¨˜éŒ²`,
    siteUrl: `https://jujekebab.com/`,
  },
```

`head`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®graphQLã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦è¨­å®šã—ã¾ã™ã€‚

```js:title=gatsby-config.js
        {
          property: `og:description`,
          content: `${data.site.siteMetadata.description}`,
        },
```


### Twitterã‚«ãƒ¼ãƒ‰ã®è¨­å®š
Twitterãªã©ã®SNSã§å…±æœ‰ã—ãŸæ™‚ã«ã€ã„ã„æ„Ÿã˜ã®ã‚«ãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

```
og:image
twitter:title
twitter:creator
twitter:card
```
ã•ãˆè¨­å®šã—ã¦ãŠã‘ã°æœ€ä½é™ã®è¦‹ãŸç›®ã«ã¯ãªã‚Šã¾ã™ã€‚



*æœ€ä½é™ã®è¦‹ãŸç›®ã®ä¾‹
![twittercard](./twittercard.png)
ç”»åƒ



ä½œæˆã—ãŸã‚«ãƒ¼ãƒ‰ã¯[Twitter Card Validator](https://cards-dev.twitter.com/validator)ã‚’ç”¨ã„ã¦ä¸‹è¦‹ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚


## Urlã®æ­£è¦åŒ–
Canonicalå±æ€§ã‚’æŒ‡å®šã—ã¾ã™ã€‚ã“ã‚Œã‚‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ç°¡å˜ã«å®Ÿè£…ã§ãã¾ã™ã€‚
- [gatsby-plugin-canonical-urls](https://www.gatsbyjs.com/plugins/gatsby-plugin-canonical-urls/)


`npm i gatsby-plugin-canonical-urls`ã—ã¦ã€gatsby-config.jsã«è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã‚µã‚¤ãƒˆã®URLã‚’è¿½åŠ ã—ã¾ã—ã‚‡ã†ã€‚

```javascript{4-6}:title=gatsby-config.js
plugins: [
    {
      resolve: `gatsby-plugin-canonical-urls`,
      options: {
        siteUrl: `https://jujekebab.com`,
        stripQueryString: true,
      },
    },
]
```


## robot.txt ã®è¨­ç½®
ã‚¯ãƒ­ãƒ¼ãƒ©ãƒ¼ã«èª­ã¿å–ã£ã¦ã»ã—ã„ãƒšãƒ¼ã‚¸ã¨èª­ã¿å–ã£ã¦ã»ã—ããªã„ãƒšãƒ¼ã‚¸ã‚’ä¼ãˆã¾ã™ã€‚

ã“ã¡ã‚‰ã‚‚[gatsby-plugin-robots-txt](https://www.gatsbyjs.com/plugins/gatsby-plugin-robots-txt)ã¨ã„ã†ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ã“ã‚Œã‚’ä½¿ã„ã¾ã™ã€‚

ã“ã‚Œã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦`gatsby-config.js`ã«è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚



## Google Search ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã®ç™»éŒ²
Google Analyticsã‚’ç™»éŒ²ã—ã¦ã„ã‚‹ãªã‚‰ã€ãã“ã‹ã‚‰Google search Consoleã¸ãƒªãƒ³ã‚¯ã™ã‚‹ã¨ç°¡å˜ã ã¨æ€ã„ã¾ã™ã€‚

## LightHouseã§ã‚‚é«˜å¾—ç‚¹

LighHouseã§ã‚‚SEOã¯100ç‚¹ã§ã—ãŸã€‚ã‚ã¨ã¯ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è³ªã ã‘ã ï¼

![lithhouse](./lighthouse.png)





## ã¾ã¨ã‚

ã“ã†ã„ã†ç›®ã«è¦‹ãˆãªã„ç´°ã‹ã„ä½œæ¥­ã‚’ã™ã‚‹ã¨ã€ã¯ã¦ãªãƒ–ãƒ­ã‚°ãªã©ã®ç„¡æ–™ãƒ–ãƒ­ã‚°ã‚µã‚¤ãƒˆã®æœ‰ã‚Šé›£ã¿ãŒã‚ã‹ã‚Šã¾ã™ã€‚ã‚‚ã—Gatsbyã‚’ä½¿ã£ã¦ã„ãªã‹ã£ãŸã‚‰ã¨æ€ã†ã¨ã©ã‚Œã ã‘ã®ä½œæ¥­é‡ã«ãªã‚‹ã®ã‹â€¦ã€‚

æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã®è¿½åŠ ã ã‘ã¯ã‚„ã£ã¦ã„ãªã‹ã£ãŸã®ã§æ¬¡å›ã¯ãã‚Œã«ã¤ã„ã¦ç´¹ä»‹ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚


## å‚è€ƒ
[WPã‹ã‚‰Gatsbyã¸ç§»è¡Œæ™‚ã«æ°—ã‚’ä»˜ã‘ãŸã„SEOå¯¾ç­–ä¸€è¦§ã¨å°å…¥æ–¹æ³•](https://31navi.com/seo-for-gatsby#%E5%BF%85%E8%A6%81%E3%81%AA-seo-%E5%AF%BE%E7%AD%96%E4%B8%80%E8%A6%A7)

[Gatsbyã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³æœ€é©åŒ–ï¼ˆSEOï¼‰ã®å…¨ã¾ã¨ã‚](https://monotein.com/blog/gatsby-seo-and-optimisations?fbclid=IwAR3JgM07ZUjx2Z0cauOQevGrOcUao-FCEU2Lv4ddqqdjE7_Q2elRYNvLems)

[ã€2021å¹´ç‰ˆã€‘Google ã‚µãƒ¼ãƒã‚³ãƒ³ã‚½ãƒ¼ãƒ« ã®ä½¿ã„æ–¹ã€‚ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆæ”¹å–„ã®ãŸã‚ã®æ´»ç”¨è¡“ï¼](https://www.waca.associates/jp/knowledge/44362/#index_id0)

[Gatsby: SEOå¯¾ç­–ï¼ˆæœ€ä½é™ã‚„ã£ã¦ãŠãã“ã¨ï¼‰](https://qiita.com/atomyah/items/69028992eacf28d92957#url%E6%AD%A3%E8%A6%8F%E5%8C%96)


<div>Icons made by <a href="https://www.freepik.com" title="Freepik">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></div>
